
# Рекурсия

Рекурсия - это процесс, при котором функция вызывает сама себя во время выполнения. Рекурсия может быть очень полезна в Python, особенно когда решается задача, которая может быть разделена на несколько более маленьких задач того же типа.

## Факториал

Одним из самых популярных примеров рекурсии является вычисление факториала. Факториал числа - это произведение всех целых чисел от 1 до этого числа. Например, факториал 5 равен 1 * 2 * 3 * 4 * 5, или 120. Формула для вычисления факториала - n! = n * (n-1) * (n-2) * ... * 1.

Функция для вычисления факториала может быть реализована с использованием рекурсии следующим образом:

```python
def factorial(n):
    if n == 1:
        return 1
    else:
        return n * factorial(n-1)
```

Здесь функция factorial вызывает сама себя с аргументом n-1 до тех пор, пока n не станет равным 1. Затем функция возвращает результат, который равен произведению n и результата вызова функции factorial с аргументом n-1.

Давайте рассмотрим, как работает эта функция на примере вычисления факториала числа 5:

```python
factorial(5)
# 5 * factorial(4)
# 5 * (4 * factorial(3))
# 5 * (4 * (3 * factorial(2)))
# 5 * (4 * (3 * (2 * factorial(1))))
# 5 * (4 * (3 * (2 * 1)))
# 120
```

## Сумма элементов списка

Другой пример, который можно реализовать с помощью рекурсии, - это вычисление суммы элементов списка. Функция для вычисления суммы элементов списка может быть реализована с использованием рекурсии следующим образом:

```python
def sum_list(lst):
    if len(lst) == 0:
        return 0
    else:
        return lst[0] + sum_list(lst[1:])
```

Здесь функция sum_list вызывает сама себя с аргументом lst[1:] до тех пор, пока список не будет пустым. Затем функция возвращает результат, который равен сумме первого элемента списка и результата вызова функции sum_list с аргументом lst[1:].

```python
sum_list([1, 2, 3, 4, 5])
# 1 + sum_list([2, 3, 4, 5])
# 1 + (2 + sum_list([3, 4, 5]))
# 1 + (2 + (3 + sum_list([4, 5])))
# 1 + (2 + (3 + (4 + sum_list([5]))))
# 1 + (2 + (3 + (4 + 5)))
# 15
```

## Бинарный поиск

Еще один пример использования рекурсии - это бинарный поиск. Бинарный поиск - это алгоритм поиска элемента в отсортированном массиве. Алгоритм работает следующим образом: находим средний элемент в массиве, сравниваем его со значением, которое мы ищем, и если это значение меньше среднего элемента, то мы ищем в левой половине массива, а если оно больше, то в правой половине массива. Затем мы повторяем этот процесс для выбранной половины массива до тех пор, пока не найдем элемент, который мы ищем, или пока не останется больше элементов для поиска.

Функция для реализации бинарного поиска с помощью рекурсии может выглядеть так:

```python
def binary_search(lst, target):
    if len(lst) == 0:
        return False
    else:
        mid = len(lst) // 2
        if lst[mid] == target:
            return True
        elif target < lst[mid]:
            return binary_search(lst[:mid], target)
        else:
            return binary_search(lst[mid+1:], target)
```

Здесь функция binary_search рекурсивно делит список пополам, выбирает соответствующую половину и вызывает себя для этой половины. Функция продолжает делить список пополам до тех пор, пока не найдет элемент, который мы ищем, или пока список не станет пустым.

Давайте рассмотрим, как работает эта функция на примере отсортированного списка [1, 3, 5, 7, 9, 11]:

```python
binary_search([1, 3, 5, 7, 9, 11], 7)
# binary_search([5, 7, 9, 11], 7)
# binary_search([7, 9, 11], 7)
# True
```