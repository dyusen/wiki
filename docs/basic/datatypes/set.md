
# Множества в Python. Set и Frozenset

## Создание множества

Множество — неупорядоченный набор элементов. Каждый элемент в множестве уникален (т. е. повторяющихся элементов нет) и неизменяем. Само по себе множество можно изменять, то есть удалять или добавлять элементы.

Создать пустое множество можно при помощи функции конструктора ```set()```

```Python
new_set = set()
```

Чтобы создать множество сразу с набором элементов есть два способа: можно также воспользоваться функцией конструктором или фигурными скобками:

```Python
set_1 = set(1, 2 ,3)
set_2 = {4, 5, 6}

print(set_1)
print(set_2)
```

> Элементами множества могут быть только неизменяемые типы данных

---

Важно упомянуть, что создать пустое множество при помощи фигурных скобок нельзя, так как у нас создастся *пустой словарь*:

```Python
set_1 = {}
print(type(set_1))
```

Вывод:

```text
<class 'dict'>
```

## Скорость поиска эелемента в множестве. Сравнение со списками

вставить тесты сюда

## Операции с множествами

Множества *неупорядочены* (элементы расположены не по порядку их добавления), **обращаться** к отдельным элементам по индексу невозможно:

```Python
s = {1, 2, 3}
print(s[1]) #TypeError: 'set' object is not subscriptable
```

Чтобы **добавить** один элемент, нужно использовать метод ```add()```. Если нужно добавить несколько элементов — метод ```update()```. Метод ```update()``` принимает в качестве аргументов кортежи, списки или другие множества. Во всех случаях следует избегать одинаковых элементов:

```Python
# создаем my_set
my_set = {1, 3}
print(my_set)

# добавляем элемент
# Вывод: {1, 2, 3}
my_set.add(2)
print(my_set)

# добавляем несколько элементов
# Вывод: {1, 2, 3, 4}
my_set.update([2, 3, 4])
print(my_set)

# добавляем список и множество
# Вывод: {1, 2, 3, 4, 5, 6, 8}
my_set.update([4, 5], {1, 6, 8})
print(my_set)
```

Определенный элемент множества можно **удалить** с помощью методов ```discard()``` и ```remove()```. Разница между ними вот в чем. Если элемент, который вы хотите удалить с помощью ```discard()```, отсутствует в множестве — оно не изменится. А вот ```remove()``` вызовет ошибку, если элемента нет в множестве.

```Python
my_set = {1, 3, 4, 5, 6}
print(my_set)

# удаление элемента с помощью discard
# Вывод: {1, 3, 5, 6}
my_set.discard(4)
print(my_set)

# удаление элемента с помощью remove
# Вывод: {1, 3, 5}
my_set.remove(6)
print(my_set)

# удаление отсутствующего элемента через discard
# Вывод: {1, 3, 5}
my_set.discard(2)
print(my_set)

# удаление отсутствующего элемента через remove
# Вывод: KeyError

my_set.remove(2)
```

Удалить все элементы из множества можно с помощью метода ```clear()```:

```Python
my_set = {1, 2, 3}
my_set.clear()

#Вывод: set()
print(my_set)
```

## Методы можеств

| Метод                            |   Описание                                                                                                     |
|----------------------------------|----------------------------------------------------------------------------------------------------------------|
|   ```add()```                          |   Добавляет элемент в множество                                                                                |
|   ```clear()```                        |   Удаляет все элементы из множества                                                                            |
|   ```copy()```                         |   Возвращает копию множества                                                                                   |
|   ```difference()```                   |   Возвращает новое множество — разность двух или более множеств                                                |
|   ```difference_update()```            |   Удаляет все элементы одного набора из другого                                                                |
|   ```discard()```                      |   Удаляет элемент, если он содержится в множестве (если элемента в множестве нет, то ничего не происходит)     |
|   ```intersection()```                 |   Возвращает новое множество — пересечение двух множеств                                                       |
|   ```intersection_update()```          |   Добавляет в множество пересечение с другим множеством или с самим собой                                      |
|   ```isdisjoint()```                   |   Возвращает ```True```, если два множества не имеют пересечения                                                     |
|   ```issubset()```                     |   Возвращает ```True```, если определенное множество содержится в другом множестве                                   |
|   ```issuperset()```                   |   Возвращает ```True```, если в множестве есть другое множество                                                      |
|   ```pop()```                          |   Удаляет и возвращает случайный элемент множества. Если множество пусто, то возвращает ошибку ```KeyError```        |
|   ```remove()```                       |   Удаляет определенный элемент множества. Если элемент отсутствует в множестве, то возвращает ошибку ```KeyError```  |
|   ```symmetric_difference()```         |   Возвращает новое множество — симметрическую разность двух множеств                                           |
|   ```symmetric_difference_update()```  |   Добавляет в множество симметрическую разницу с другим множеством или с самим собой                           |
|   ```union()```                        |   Возвращает новое множество — объединение множеств                                                            |
|   ```update()```                       |   Добавляет в множество объединение с другим множеством или с самим собой                                      |

## Математика и множества

Множества можно использовать для выполнения математических операций вроде объединения, пересечения, симметрической разности и т. д. Сделать это можно с помощью операторов и методов.

Рассмотрим два множества и проведем с ними разные операции:

```Python
A = {1, 2, 3, 4, 5}
B = {4, 5, 6, 7, 8}
```

### Объединение множеств

!['set_union'](/assets/set_union.png)

> Результат бъединения A и B — множество, содержащее в себе все элементы множеств A и B.

Операцию объединения можно произвести двумя способами: с помощью оператора ```|``` и метода ```union()```:

```Python
A = {1, 2, 3, 4, 5}
B = {4, 5, 6, 7, 8}

# Используем оператор |
print(A | B)
```

Вывод:

```text
{1, 2, 3, 4, 5, 6, 7, 8}
```

### Пересечение множеств

!['set_intersection'](/assets/set_intersection.png)

> Результат пересечения A и B — множество, которому принадлежат те и только те элементы, которые одновременно принадлежат всем данным множествам

Операцию объединения можно произвести двумя способами: с помощью оператора ```&``` и метода ```intersection()```:

```Python
A = {1, 2, 3, 4, 5}
B = {4, 5, 6, 7, 8}

# Используем оператор & 
print(A & B)
```

Вывод:

```text
{4, 5}
```

### Разность множеств

!['set_s_difference'](/assets/set_difference.png)

> Результат разности множеств B и A — множество элементов, содержащихся только в A. Следовательно, B-A = множество элементов, содержащихся только в B.

Операцию объединения можно произвести двумя способами: с помощью оператора ```-``` и метода ```difference()```:

```Python
A = {1, 2, 3, 4, 5}
B = {4, 5, 6, 7, 8}

# Используем оператор - 
print(A - B)
```

Вывод:

```text
{1, 2, 3}
```

### Симметрическая разность множеств

!['set_difference'](/assets/set_s_difference.png)

> Результат симметрической разности множеств A и B — множество элементов, содержащихся и в A, и в B, но не в обоих сразу. Иначе говоря, исключается только пересечение множеств.

Операцию объединения можно произвести двумя способами: с помощью оператора ```^``` и метода ```symmetric_difference()```:

```Python
A = {1, 2, 3, 4, 5}
B = {4, 5, 6, 7, 8}

# Используем оператор ^
print(A ^ B)
```

Вывод:

```text
{1, 2, 3, 6, 7, 8}
```

## Frozenset

Frozenset — тип, имеющий характеристики множества. Отличие состоит в том, что frozenset после объявления неизменяем.

> **Кортеж** — неизменяемый список, **frozenset** — неизменяемое множество.

Этот тип данных поддерживает следующие методы: ```copy()```, ```difference()```, ```intersection()```, ```isdisjoint()```, ```issubset()```, ```issuperset()```, ```symmetric_difference()``` и ```union()```. Так как он неизменяем, методы ```add()``` и ```remove()``` с ним не работают.

```Python
A = frozenset([1, 2, 3, 4])
B = frozenset([3, 4, 5, 6])
```

Теперь попробуем порабать через консоль:

```text
>>> A.isdisjoint(B)
False

>>> A.difference(B)
frozenset({1, 2})

>>> A | B
frozenset({1, 2, 3, 4, 5, 6})

>>> A.add(3)
...
AttributeError: 'frozenset' object has no attribute 'add'
```
