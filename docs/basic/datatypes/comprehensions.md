
# Выражения-генератоты. Генераторы списков

## Введение

Генераторы списков - это один из наиболее мощных инструментов в Python для создания списков с использованием компактного и выразительного синтаксиса. Генераторы списков представляют собой конструкцию, которая позволяет создавать новый список, применяя выражение к каждому элементу последовательности. Они являются более компактным и удобным в использовании способом создания списков по сравнению с использованием циклов.
Синтаксис

Синтаксис генератора списка выглядит следующим образом:

```python
[выражение for элемент in последовательность]
```

где:

- выражение - это выражение, которое применяется к каждому элементу последовательности;
- элемент - это переменная, которая принимает значения из последовательности;
- последовательность - это последовательность элементов, для которых будет применяться выражение.

## Примеры использования генераторов списков

### Создание списка квадратов чисел

Давайте рассмотрим пример использования генератора списка для создания списка квадратов чисел:

```python
squares = [x**2 for x in range(1, 6)]
print(squares)  # [1, 4, 9, 16, 25]
```

В этом примере мы создали список, содержащий квадраты чисел от 1 до 5. Мы использовали выражение `x**2`, чтобы вычислить квадрат каждого числа в диапазоне от 1 до 5.

### Создание списка чисел Фибоначчи

Давайте рассмотрим пример использования генератора списка для создания списка чисел Фибоначчи:

```python
fibonacci = [0, 1]
[fibonacci.append(fibonacci[-1] + fibonacci[-2]) for _ in range(8)]
print(fibonacci)  # [0, 1, 1, 2, 3, 5, 8, 13, 21]
```

В этом примере мы создали список чисел Фибоначчи, начиная с 0 и 1, и используя генератор списка, чтобы вычислить следующие числа Фибоначчи. Мы использовали выражение `fibonacci[-1] + fibonacci[-2]`, чтобы вычислить следующее число Фибоначчи.

### Создание списка из условных выражений

Давайте рассмотрим пример использования генератора списка для создания списка, содержащего только четные числа:

```python
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
even_numbers = [x for x in numbers if x % 2 == 0]
print(even_numbers) # [2, 4, 6, 8, 10]
```

В этом примере мы создали список четных чисел, используя генератор списка и условное выражение. Мы использовали выражение `x`, чтобы добавить каждое четное число в новый список, а условное выражение `if x % 2 == 0` позволило нам выбрать только четные числа из исходного списка.

### Тернарный оператор в генераторах списков

В генераторах списков также можно использовать ключевое слово else, которое позволяет выполнить какое-то действие, если условие не выполняется.

Например, мы можем создать список, содержащий слова с длиной больше 5 символов, и если слово имеет длину меньше или равную 5, мы добавляем строку `"Short word"` в список:

```python
words = ['apple', 'banana', 'orange', 'kiwi', 'grape']
new_words = [word if len(word) > 5 else 'Short word' for word in words]
print(new_words)  # ['Short word', 'banana', 'orange', 'Short word', 'grape']
```

В этом примере мы использовали условное выражение `if len(word) > 5 else 'Short word'` для проверки длины каждого слова в списке `words`. Если длина слова больше 5 символов, мы добавляем его в новый список `new_words`, иначе мы добавляем строку `"Short word"`.

Обратите внимание, что ключевое слово `else` должно быть расположено после условного выражения, иначе это вызовет ошибку синтаксиса.

### Создание списка из элементов другого списка

Давайте рассмотрим пример использования генератора списка для создания нового списка из элементов другого списка:

```python
fruits = ['apple', 'banana', 'orange', 'kiwi', 'grape']
new_fruits = [fruit.upper() for fruit in fruits]
print(new_fruits)  # ['APPLE', 'BANANA', 'ORANGE', 'KIWI', 'GRAPE']
```

В этом примере мы создали новый список, содержащий те же элементы, что и список fruits, но с использованием генератора списка и метода upper() для преобразования каждого элемента списка в верхний регистр.

> Сравнение производительности генераторов списков и циклов for в Python показывает, что генераторы списков работают быстрее, особенно при работе с большими наборами данных. Это связано с тем, что генераторы списков выполняются на более низком уровне и используют оптимизированный код для быстрой обработки данных. В то время как циклы for в Python могут быть медленнее из-за необходимости создания дополнительных объектов и проверок условий на каждой итерации цикла. Поэтому использование генераторов списков может значительно ускорить выполнение вашего кода и улучшить производительность.

## Преимущества использования генераторов списков

Использование генераторов списков имеет несколько преимуществ:

- Компактный синтаксис - генераторы списков имеют более компактный синтаксис, чем обычные циклы, что делает код более читаемым и экономичным по размеру.
- Быстрота - генераторы списков работают быстрее, чем обычные циклы, что делает их полезными при работе с большими наборами данных.
- Гибкость - генераторы списков могут использоваться для создания списков из любых итерируемых объектов, включая другие списки, кортежи, множества и словари.

## Заключение

Генераторы списков - это мощный инструмент в Python для создания списков с использованием компактного и выразительного синтаксиса. Они могут быть использованы для создания списков из любых итерируемых объектов и предлагают несколько преимуществ перед обычными циклами, включая компактный синтаксис, быстроту и гибкость. Надеюсь, этот обзор помог вам лучше понять, как использовать генераторы списков в Python.

## Задачи

1. Создание списка чисел в заданном диапазоне, кратных определенному числу:

    ```python
    start = 1
    end = 20
    multiple = 3
    nums = ... # написать генератор здесь
    print(nums)  # [3, 6, 9, 12, 15, 18]
    ```

2. Создание списка слов, содержащих только гласные:

    ```python
    words = ['apple', 'banana', 'aaa','orange', 'eee', 'kiwi', 'grape']
    vowels = ['a', 'e', 'i', 'o', 'u']
    vowel_words = ... # написать генератор здесь
    print(vowel_words)  # ['aaa', 'eee']
    ```

3. Создание списка из строки, содержащей числа, разделенные запятыми:

    ```python
    string = '1,2,3,4,5'
    nums = ... # написать генератор здесь
    print(nums)  # [5, 4, 3, 2, 1]
    ```