# Основные понятия: Класс, объект, метод, поле

Классы и объекты - это основа объектно-ориентированного программирования в Python. Классы представляют собой шаблоны, которые определяют свойства и методы, а объекты - это экземпляры классов, которые содержат конкретные значения свойств.

## Создание классов в Python

***Класс*** - это шаблон или описание, на основе которого будут создаваться ***объекты***. Описание осуществляется при помощи ***свойств*** и ***методов***. Например, если у нас есть класс "Автомобиль", он может иметь свойства, такие как "марка", "модель" и "год выпуска", а также методы, такие как "завести", "остановиться" и "поехать".

Для создания класса в Python используется ключевое слово `class`. Давайте создадим класс `Car`, который описывали ранее. Начнем с определения класса и его свойств - `brand`, `model`, `year` и `is_running`:

```python
class Car:
    brand = 'Toyota'
    model = 'Camry'
    year = 2023
    is_running = False
```

После создания класса мы получаем доступ к описанным свойствам и методам (методы пока не реализованы):

```python
class Car:
    brand = 'Toyota'
    model = 'Camry'
    year = 2023
    is_running = False

print(Car.brand, Car.model)
```

> Вместо термина "свойство" иногда используются "атрибут" или "поле"

## Создание объектов в Python

***Объект*** - это экземпляр ***класса***, который имеет те же свойства и методы, что и его родительский класс. Создать объект можно следующим образом:

```python
class Car:
    brand = 'Toyota'
    model = 'Camry'
    year = 2023
    is_running = False

car1 = Car()
car1.model = 'Land Cruiser' # Переопределение свойства model

print(car1.model) # В объекте - новое значение
print(Car.model) # В классе - старое
```

В этом примере мы создали ***объект*** `car1` и указали, что ***свойство*** `model` имеет значение `'Land Cruiser'`. При этом, ***значение свойства*** в ***классе*** осталось прежним, а ***объекты*** создаваемые в будущем будут иметь это значение:

```python
class Car:
    brand = 'Toyota'
    model = 'Camry'
    year = 2023
    is_running = False

car1 = Car()
car1.model = 'Land Cruiser' # Переопределение свойства model

print(car1.model) # В объекте - новое значение
print(Car.model) # В классе - старое

car2 = Car() # Cоздание нового объекта
print(car2.model) # Свойство model имеет значние 'Camry'

Car.model = 'Highlander' # Переопределение свойства в классе

car3 = Car() # Cоздание нового объекта
print(car3.model) # У объекта, созданного после смены свойства в классе новое значение
print(car2.model) # У объекта, созданного до смены свойства в классе также сменилось значение
print(car1.model) # У объекта, созданного до смены свойства в классе, но с переопределенным свойством все осталось прежним
```

> Когда вы переопределяетете свойство внутри объекта - вы создаете новое имя в пространсте имен этого объекта и поэтому изменение поля в классе не затрагивает переопределенное свойство в объекте!

## Методы

Методы - это функции, которые принадлежат классу или объекту. Методы обычно используются для выполнения действий с объектом или для возврата значения.

Определим внутри нашего класса метод, который будет заводить наш автомобиль:

```python
class Car:
    brand = 'Toyota'
    model = 'Camry'
    year = 2023
    is_running = False

    def start(self):
        if not self.is_running:
            self.is_running = True
            print("The car has started.")
        else:
            print("The car is already running.")

car1 = Car()
car1.start()
```

В этом примере мы добавляем ***метод*** `start` в класс `Car`. ***Метод*** принимает особый аргумент `self`, который указывает на текущий объект. Проще говоря - self нужен для того, чтобы интерпертатор понял, для какого конкретного объекта вызывается метод и свойства какого объекта задействовать в них.

> При определении метода, `self` всегда указывается первым аргументом, но при вызове этого метода - ничего не передается. Это можно наблюдать в примере кода, написанном ранее - метод start принимает один аргумент, но при вызове ничего не передается. Это происходит благодаря тому, что python без вашего участия заполняет данный аргумент. 

## Магический метод `__init__()`

Объекты зачастую имеют значения полей отличные от определенных в классе (не все автомобили тойоты, тем более камри). Было бы удобно указывать значения полей объекта на этапе его создания. Такую возможность нам предоставляет ***магический метод*** `__init__()`:

```python
class Car:
    def __init__(self, brand, model, year):
        print("new car created!")
        self.brand = brand
        self.model = model
        self.year = year
        self.is_running = False

    def start(self):
        if not self.is_running:
            self.is_running = True
            print("The car has started.")
        else:
            print("The car is already running.")

car1 = Car('Lada', 'Priora', 2013)
car1.start()
print(car1.brand, car1.model, car1.year)
```

Этот метод вызывается автоматически при создании объекта, поэтому и называется магическим. Аргументы, требуемые для этого метода указываются также в момент создания объекта.

> Метод `__init__()` не единственный магический метод в python!

---

Расширим функционал нашего класса новыми методами:

```python
class Car:
    def __init__(self, brand, model, year):
        self.brand = brand
        self.model = model
        self.year = year
        self.is_running = False

    def start(self):
        if not self.is_running:
            self.is_running = True
            print("The car has started.")
        else:
            print("The car is already running.")

    def stop(self):
        if self.is_running:
            self.is_running = False
            print("The car has stopped.")
        else:
            print("The car is already stopped.")

    def drive(self, distance):
        if self.is_running:
            print(f"The car is driving for {distance} kilometers.")
        else:
            print("The car needs to be started first.")

car1 = Car("Toyota", "Camry", 2020)

# Вызов методов
car1.start()  # Завести автомобиль
car1.drive(50)  # Автомобиль едет 50 километров
car1.stop()  # Остановить автомобиль

```

## Заключение

В этой статье мы рассмотрели создание классов и объектов в Python, а также методы и свойства, которые могут быть определены в классе. Классы и объекты - это важные понятия в объектно-ориентированном программировании, которые позволяют создавать модели объектов, которые могут быть использованы в программе для выполнения определенных задач.
