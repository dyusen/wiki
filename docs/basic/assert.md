
# Assert 

`assert` (*утверждение*) - конструкция, позволяющая проверить некоторое условие в ходе выполнения программы. Используется для тестирования участков кода и проверки входных данных. В случае нарушения сравнения генерируется исключение `Assertion Error`. Записывается оно следующим образом:

```python
assert [condition]
```

## Тестирование функций и проверка входных данных через `assert`

Итак, предположим вам необходимо написать функцию  `calculate_average` для вычисления среднего арифметического по заданию:

- функция должна принимать список из `int` и/или `float`

- принимаемый список должен быть не пустым

Исходя из вышепоставленных задач предоставлены следующие *тест-кейсы*:

```python
# Проверка для списка положительных чисел
calculate_average([1, 2, 3, 4, 5]) #3.0

# Проверка для списка отрицательных чисел
calculate_average([-1, -2, -3, -4, -5]) # -3.0

# Проверка для списка смешанных чисел
calculate_average([10, -5, 2.5, 7, -3.5]) # 2.6

# Проверка для пустого списка (ошибка)
calculate_average([]) # None 

# Проверка для списка с неправильным типом данных (ошибка)
calculate_average([1, 2, "3", 4, 5]) # None
```

Теперь, когда мы получили задание, приступим к написанию нашей функции:

```python
def calculate_average(numbers):
    assert len(numbers) > 0, "Список чисел не должен быть пустым"
    assert all(isinstance(num, (int, float)) for num in numbers), "Список должен содержать только числа"
    return sum(numbers) / len(numbers)

# Тест кейсы

# Проверка для списка положительных чисел
assert calculate_average([1, 2, 3, 4, 5]) == 3.0, "Ошибка: среднее арифметическое чисел [1, 2, 3, 4, 5] должно быть равно 3.0"

# Проверка для списка отрицательных чисел
assert calculate_average([-1, -2, -3, -4, -5]) == -3.0, "Ошибка: среднее арифметическое чисел [-1, -2, -3, -4, -5] должно быть равно -3.0"

# Проверка для списка смешанных чисел
assert calculate_average([10, -5, 2.5, 7, -3.5]) == 2.6, "Ошибка: среднее арифметическое чисел [10, -5, 2.5, 7, -3.5] должно быть равно 2.6"

# Проверка для пустого списка (ошибка)
assert calculate_average([]) == None, "Ошибка: среднее арифметическое пустого списка должно быть None"

# Проверка для списка с неправильным типом данных (ошибка)
assert calculate_average([1, 2, "3", 4, 5]) == None, "Ошибка: список содержит неправильный тип данных"

print("Все тесты пройдены успешно!")
```

Таким образом мы получили надежную протестированную функцию, которую можно смело использовать в своем коде. 

> Использование `assert` позволяет избавиться от громостких конструкций `if else` в процессе тестирования кода. Также проверки `assert` могут быть отключены при исполнении скрипта с ключом `-O`

## Функции для упрощения тестирования

- `all()` - принимает последовательность и возвращает `True` если все элементы возвращают `True`:

    ```python
    numbers = [2, 4, 6, 8, 10]
    assert all(num % 2 == 0 for num in numbers), "Все числа должны быть четными"

    numbers = [1, 2, 3, 4, 5]
    assert all(num % 2 == 0 for num in numbers), "Все числа должны быть четными"
    ```

- `any()` - принимает последовательность и возвращает `True` если хотя бы один элемент возвращает `True`:

    ```python
    numbers = [1, 3, 5, 7, 9]
    assert any(num % 2 == 0 for num in numbers), "Хотя бы одно число должно быть четным"

    numbers = [1, 2, 3, 4, 5]
    assert any(num % 2 == 0 for num in numbers), "Хотя бы одно число должно быть четным"
    ```

- `sorted()` - принимает последовательности и сортирует её:

    ```python
    numbers = [5, 2, 4, 1, 3]
    assert sorted(numbers) == [1, 2, 3, 4, 5], "Список чисел должен быть отсортирован"

    names = ['Alice', 'Bob', 'Charlie']
    assert sorted(names, key=len) == ['Bob', 'Alice', 'Charlie'], "Список имен должен быть отсортирован по длине"
    ```

- `callable(obj)` - принимает объект и возвращает `True`, если объект вызываемый (функция, метод, класс):

    ```python
    def multiply(a, b):
        return a * b

    assert callable(multiply), "Объект должен быть вызываемым"

    number = 10
    assert callable(number), "Объект должен быть вызываемым"
    ```